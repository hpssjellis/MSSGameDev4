<html>
<head>
<script>

// Global variables works anywhere in your code

let mySound1 =new Audio('Audio files/m64slider.mp3')

let mySound2 =new Audio('Audio files/hitem.mp3')

document.myNumBullets = 1;
document.myBulletMax  = 10;

document.mySpanMax = 6;
   


document.myBulletMove = 6   // amount it moves in pixels

document.myBulletDelay = 20 // speed as a delay in milliseconds bigger is slower

document.myBulleTimer = 0;



// span movement

document.myXmove = 5   // amount it moves in pixels
document.myYmove = 4

function enableLoop() {
   mySound1.loop() = true;
   mySound1.load();
 }

function myHitOther(my1,my2){
   left1   = parseInt(document.getElementById(my1).style.left)
   right1  = left1 + parseInt(document.getElementById(my1).style.width)
   top1    = parseInt(document.getElementById(my1).style.top)   
   bottom1 = top1   + parseInt(document.getElementById(my1).style.height)
   left2   = parseInt(document.getElementById(my2).style.left)
   right2  = left2 + parseInt(document.getElementById(my2).style.width)
   top2    = parseInt(document.getElementById(my2).style.top)   
   bottom2 = top2   + parseInt(document.getElementById(my2).style.height)
   if ((right1  >=  left2  ) &&      	   
       (bottom1 >=  top2   ) &&
       (left1   <=  right2 ) &&
       (top1    <=  bottom2) ){
       return true
   }
}


function myCheckAll(){

for (let x=1;  x <= document.myBulletMax; x++){ 

   if (parseInt(document.getElementById('myBullet'+x).style.left) + 65 > window.innerWidth) {  // if we hit the right wall
       document.getElementById('myBullet'+x).style.left = document.getElementById('player').style.left
       document.getElementById('myBullet'+x).style.visibility= 'hidden'
    }
   
   if(myHitOther('myBullet'+x,'mySpan7')){
   document.getElementById('myTextLife').value = parseInt(document.getElementById('myTextLife').value) - 0.0001
  }

   if(myHitOther('myBullet'+x,'mySpan8')){
   document.getElementById('myTextLife').value = parseInt(document.getElementById('myTextLife').value) - 0.0001
  }

   if(myHitOther('myBullet'+x,'mySpan9')){
   document.getElementById('myTextLife').value = parseInt(document.getElementById('myTextLife').value) - 0.0001
  }

   if(myHitOther('myBullet'+x,'mySpan10')){
   document.getElementById('myTextLife').value = parseInt(document.getElementById('myTextLife').value) - 0.0001
  }

   if(myHitOther('myBullet'+x,'mySpan11')){
   document.getElementById('myTextLife').value = parseInt(document.getElementById('myTextLife').value) - 0.0001
  }

   if(myHitOther('myBullet'+x,'mySpan12')){
   document.getElementById('myTextLife').value = parseInt(document.getElementById('myTextLife').value) + 5;
   document.getElementById('mySpan12').style.left = - 400;
   mySound2.play()
  }

   if(myHitOther('myBullet'+x,'mySpan13')){
   document.getElementById('myTextLife').value = parseInt(document.getElementById('myTextLife').value) + 5;
   document.getElementById('mySpan13').style.left = - 400;
   mySound2.play()
  }

   if(myHitOther('myBullet'+x,'mySpan14')){
   document.getElementById('myTextLife').value = parseInt(document.getElementById('myTextLife').value) + 5;
   document.getElementById('mySpan14').style.left = - 400;
   mySound2.play()
  }
   
for (let y=2;  y <= document.mySpanMax; y++){   
   if(myHitOther('myBullet'+x, 'mySpan'+y)){
      ranX1 = Math.floor(Math.random()*window.innerWidth*0.67);
      document.getElementById('myTextScore').value = parseInt(document.getElementById('myTextScore').value) + 1;
      document.getElementById('mySpan'+y).style.left = ranX1 + 256
  }
}

} // check all bullets finished


if(parseInt(document.getElementById('myTextScore').value)  >=20  ){
    document.getElementById('myTextScore').value = 0
    mySound1.stop()
    alert('You Win! Next Stage...')
    location = 'final-project-index-patrick.html'
  } 

if(parseInt(document.getElementById('myTextLife').value)  <=0  ){
    document.getElementById('myTextLife').value = 20
    mySound1.stop()
    alert('You Lose! Restart?')
    location = 'final-project-index-patrick.html'
  } 

}  

  


function myBulletFire(){

  for (let x=1;  x <= document.myBulletMax; x++){
     // Choose which line to comment out. horizontal fire or veritcal fire
     // document.getElementById('myBullet'+x).style.left = parseInt(document.getElementById('myBullet'+x).style.left) + document.myBulletMove
     
     document.getElementById('myBullet'+x).style.top = parseInt(document.getElementById('myBullet'+x).style.top) - document.myBulletMove
 }

  myCheckAll()
}


</script>
</head>
<body>
<body onload="{
   enableLoop();
   mySound1.play()
  }">

<body style="background-color:black;color:white;background-image: url('game gifs/game-background.gif');background-repeat: no-repeat;background-attachment: fixed; background-size: cover;">
<body  onKeyDown="{
     let myAlphaKey = event.key
     document.getElementById('myDiv01').innerHTML = 'You typed: ' + myAlphaKey.toLowerCase()
      if (myAlphaKey.toLowerCase() == 'arrowright') {
         document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) + 32
         myCheckAll()
     }
      if (myAlphaKey.toLowerCase() == 'd') {   // go right
         document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) + 32
         myCheckAll()
      }
      if (myAlphaKey.toLowerCase() == 'arrowleft') {
         document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) - 32
         myCheckAll()
     }
      if (myAlphaKey.toLowerCase() == 'a') {   // go left
         document.getElementById('player').style.left = parseInt(document.getElementById('player').style.left) - 32
         myCheckAll()
      }
      
}">

<h1 style="border:solid;text-align:center;color:black;font-size:48px;font-family:papyrus;text-shadow: 2px 2px yellow;box-shadow: 2px 2px yellow;">HTML Blaster V</h1>


<body onClick="{
    document.myNumBullets += 1
    if (document.myNumBullets > document.myBulletMax){
       document.myNumBullets = 1
    }
    document.getElementById('myBullet' + document.myNumBullets).style.left = document.getElementById('player').style.left
    document.getElementById('myBullet' + document.myNumBullets).style.top = document.getElementById('player').style.top
    document.getElementById('myBullet' + document.myNumBullets).style.visibility= 'visible'
    clearInterval(document.myBulletTimer)                    
    document.myBulletTimer = setInterval( myBulletFire , document.myBulletDelay);
                        
}">
<table>
<tr><td><font color=lime>Score:</font></td><td> <input id="myTextScore" type=text value=0 ></td></tr>

<tr><td><font color=skyblue>Life:</font></td><td> <input id="myTextLife" type=number value=20 ></td></tr><table>

[Click to Shoot]<div id="myDiv01">...</div>

<span title="1" id="player" style="position:absolute; left:700; top:640; width:45; height:30;" img src="game gifs/ship.png">
   <br><br><img src="game gifs/shipsize1.png" height=32 width=32></span><br>

<span title="2"  id="mySpan2" style="position:absolute; left:300; top:150; width:45; height:30;"> 
   <font color=red>Point</font><br><img src="game gifs/pizza.gif" height=32 width=32></span><br>

<span title="3"  id="mySpan3" style="position:absolute; left:500; top:200; width:45; height:30;"> 
   <font color=pink>Point</font><br><img src="game gifs/pizza.gif" height=32 width=32></span><br>

<span title="4"  id="mySpan4" style="position:absolute; left:700; top:250; width:45; height:30;"> 
   <font color=yellow>Point</font><br><img src="game gifs/pizza.gif" height=32 width=32></span><br>

<span title="5"  id="mySpan5" style="position:absolute; left:900; top:200; width:45; height:30;"> 
   <font color=skyblue>Point</font><br><img src="game gifs/pizza.gif" height=32 width=32></span><br>

<span title="6"  id="mySpan6" style="position:absolute; left:1100; top:150; width:45; height:30;"> 
   <font color=lime>Point</font><br><img src="game gifs/pizza.gif" height=32 width=32></span><br>

<span title="7"  id="mySpan7" style="position:absolute; left:350; top:400; width:32; height:0.1;"> 
      [Enemy]<br>
<img src="game gifs/pikachu.gif" height=64 width=64></span><br>

<span title="8"  id="mySpan8" style="position:absolute; left:525; top:400; width:32; height:0.1;"> 
      [Enemy]<br>
<img src="game gifs/pikachu.gif" height=64 width=64></span><br>

<span title="9"  id="mySpan9" style="position:absolute; left:700; top:400; width:32; height:0.1;"> 
      [Enemy]<br>
<img src="game gifs/pikachu.gif" height=64 width=64></span><br>

<span title="10"  id="mySpan10" style="position:absolute; left:875; top:400; width:32; height:0.1;"> 
      [Enemy]<br>
<img src="game gifs/pikachu.gif" height=64 width=64></span><br>

<span title="11"  id="mySpan11" style="position:absolute; left:1050; top:400; width:32; height:0.1;"> 
      [Enemy]<br>
<img src="game gifs/pikachu.gif" height=64 width=64></span><br>

<span title="12"  id="mySpan12" style="position:absolute; left:16; top:240; width:32; height:0.1;"> 
      <font color="pink"><b>Heal:</b></font><br>
<img src="game gifs/shipsize1.png" height=16 width=16><img src="game gifs/shipsize1.png" height=16 width=16><img src="game gifs/shipsize1.png" height=16 width=16><img src="game gifs/shipsize1.png" height=16 width=16></span><br>

<span title="13"  id="mySpan13" style="position:absolute; left:94; top:240; width:45; height:0.1;"> 
      <font color="pink"><b>Heal:</b></font><br>
<img src="game gifs/shipsize1.png" height=16 width=16><img src="game gifs/shipsize1.png" height=16 width=16><img src="game gifs/shipsize1.png" height=16 width=16><img src="game gifs/shipsize1.png" height=16 width=16></span><br>

<span title="14"  id="mySpan14" style="position:absolute; left:172; top:240; width:45; height:0.1;"> 
      <font color="pink"><b>Heal:</b></font><br>
<img src="game gifs/shipsize1.png" height=16 width=16><img src="game gifs/shipsize1.png" height=16 width=16><img src="game gifs/shipsize1.png" height=16 width=16><img src="game gifs/shipsize1.png" height=16 width=16></span><br>





<span title="b1" id="myBullet1" style="visibility:hidden; position:absolute; left:100; top:150; width:16; height:16">
<font color=red><font size=5><b>^</font></span><br>

<span title="b2" id="myBullet2" style="visibility:hidden; position:absolute; left:100; top:150; width:16; height:16">
<font color=pink><font size=5>^</font></span><br>

<span title="b3" id="myBullet3" style="visibility:hidden; position:absolute; left:100; top:150; width:16; height:16">
<font color=yellow><font size=5>^</font></span><br>

<span title="b4" id="myBullet4" style="visibility:hidden; position:absolute; left:100; top:150; width:16; height:16">
<font color=skyblue><font size=5>^</font></span><br>

<span title="b5" id="myBullet5" style="visibility:hidden; position:absolute; left:100; top:150; width:16; height:16">
<font color=lime><font size=5>^</font></span><br>

<span title="b6" id="myBullet6" style="visibility:hidden; position:absolute; left:100; top:150; width:16; height:16">
<font color=red><font size=5><b>^</font></span><br>

<span title="b7" id="myBullet7" style="visibility:hidden; position:absolute; left:100; top:150; width:16; height:16">
<font color=pink><font size=5>^</font></span><br>

<span title="b8" id="myBullet8" style="visibility:hidden; position:absolute; left:100; top:150; width:16; height:16">
<font color=yellow><font size=5>^</font></span><br>

<span title="b9" id="myBullet9" style="visibility:hidden; position:absolute; left:100; top:150; width:16; height:16">
<font color=skyblue><font size=5>^</font></span><br>

<span title="b10" id="myBullet10" style="visibility:hidden; position:absolute; left:100; top:150; width:16; height:16">
<font color=lime><font size=5>^</font></span><br>
</body>
</html>